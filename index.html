<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>DoodhDaily - Smart Milk Tracker</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2196f3">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
</head>

<body>
  <div class="container">
    <!-- Enhanced Header -->
    <header class="app-header">
      <h1 class="app-title">
        <div><img class="img" src="Title.png" alt="DoodhDaily logo"></div>
      </h1>
      <p class="app-subtitle">Keep Count, Stay Calm â€” Milk Tracking Made Easy</p>
      <div class="top-actions">
        <button id="theme-toggle" class="action-btn" title="Change Theme">
          <span class="btn-icon">ğŸŒ™</span>
          <span class="btn-label">Theme</span>
        </button>
        <button id="today-btn" class="action-btn" title="Go to Today">
          <span class="btn-icon">ğŸ“…</span>
          <span class="btn-label">Today</span>
        </button>
        <button id="settings-btn" class="action-btn" title="Settings">
          <span class="btn-icon">âš™ï¸</span>
          <span class="btn-label">Settings</span>
        </button>
        <button id="calculator-open" class="action-btn" title="Calculator">
          <span class="btn-icon">â‚¹</span>
          <span class="btn-label">Calculate</span>
        </button>
      </div>
    </header>

    <!-- Enhanced Install App Prompt -->
    <div id="install-prompt" class="install-banner hidden">
      <div class="install-content">
        <h4>ğŸ“± Install DoodhDaily App</h4>
        <p>Add to your home screen for the best experience with reliable notifications!</p>
        <div class="install-actions">
          <button id="install-btn" class="btn btn--primary">ğŸ“² Install Now</button>
          <button id="dismiss-install" class="btn btn--outline">Later</button>
        </div>
      </div>
    </div>

    <!-- Enhanced Navigation -->
    <div class="month-navigation">
      <button id="prevMonth" class="nav-btn" title="Previous Month">â€¹</button>
      <div class="month-year-container">
        <span id="currentMonthYear" class="month-year-display" role="button" tabindex="0">January 2025</span>
      </div>
      <button id="nextMonth" class="nav-btn" title="Next Month">â€º</button>
    </div>

    <!-- Calendar Section -->
    <section class="calendar-section">
      <div class="calendar-container">
        <div class="calendar-header">
          <div class="day-label">Sun</div>
          <div class="day-label">Mon</div>
          <div class="day-label">Tue</div>
          <div class="day-label">Wed</div>
          <div class="day-label">Thu</div>
          <div class="day-label">Fri</div>
          <div class="day-label">Sat</div>
        </div>
        <div id="calendarGrid" class="calendar-grid"></div>
      </div>
    </section>

    <!-- Enhanced Calculator -->
    <section id="calculator" class="calculator hidden">
      <h2>ğŸ’° Milk Cost Calculator</h2>
      
      <div class="calculator-form">
        <div class="form-group">
          <label for="price-1l">Price per 1L (â‚¹):</label>
          <input type="number" id="price-1l" placeholder="60" min="0" step="0.01" />
        </div>

        <div class="form-group">
          <label for="price-05l">Price per 0.5L (â‚¹):</label>
          <input type="number" id="price-05l" placeholder="30" min="0" step="0.01" />
        </div>

        <div class="form-group">
          <label for="quantity">Daily Quantity:</label>
          <select id="quantity">
            <option value="1">1 Litre</option>
            <option value="0.5">0.5 Litre</option>
          </select>
        </div>

        <!-- Enhanced Month Selector -->
        <div class="month-selector-section">
          <h3>ğŸ“… Select Months for Calculation</h3>
          
          <!-- Year Navigation -->
          <div class="year-navigation">
            <button id="year-prev" class="year-nav-btn" title="Previous Year">â€¹</button>
            <span id="current-year" class="year-display">2025</span>
            <button id="year-next" class="year-nav-btn" title="Next Year">â€º</button>
          </div>

          <!-- Select All/Clear All Controls -->
          <div class="selection-controls">
            <button id="select-all-months" class="control-btn">âœ“ Select All</button>
            <button id="clear-all-months" class="control-btn">âœ— Clear All</button>
          </div>

          <!-- Months Grid -->
          <div id="months-grid" class="months-grid"></div>

          <!-- Selection Summary -->
          <div class="selected-summary">
            <strong>Selected:</strong> <span id="summary-text">None</span>
          </div>
        </div>

        <button id="calculate-btn" class="btn btn--primary calculate-button">
          <span class="btn-icon">ğŸ§®</span>
          Calculate Total Cost
        </button>
      </div>

      <!-- Results Section -->
      <div id="calc-results" class="results hidden">
        <h3>ğŸ“‹ Calculation Results</h3>
        <div class="result-grid">
          <div class="result-item">
            <span class="result-label">ğŸ—“ï¸ Milk Days:</span>
            <span id="total-days" class="result-value">0</span>
          </div>
          <div class="result-item">
            <span class="result-label">ğŸ¥› Total Quantity:</span>
            <span id="total-quantity" class="result-value">0 L</span>
          </div>
          <div class="result-item highlight">
            <span class="result-label">ğŸ’° Total Cost:</span>
            <span id="total-cost" class="result-value">â‚¹0.00</span>
          </div>
          <div class="result-item">
            <span class="result-label">ğŸ“ˆ Current Streak:</span>
            <span id="current-streak" class="result-value">0 days</span>
          </div>
        </div>
        
        <!-- Print Button -->
        <button id="print-btn" class="btn btn--outline print-button">
          <span class="btn-icon">ğŸ–¨ï¸</span>
          Print Results
        </button>
      </div>
    </section>

    <!-- Enhanced Settings Modal -->
    <div id="settings-modal" class="modal-overlay hidden">
      <div class="modal-content settings-modal">
        <h3>ğŸ”” Daily Milk Reminders</h3>
        
        <!-- Local notification status -->
        <div id="notification-status" class="status-indicator">
          <span id="notification-icon">â³</span> 
          <span id="notification-text">Checking notification support...</span>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" id="reminder-enabled">
            <span class="checkbox-text">Enable daily milk reminders at 12:00 PM</span>
          </label>
        </div>

        <div class="settings-info">
          <p>ğŸ“± <strong>Local Notifications:</strong> Reminders work completely offline using your browser.</p>
          <p>â° <strong>Fixed Time:</strong> Daily reminders at 12:00 PM for consistency.</p>
          <p>ğŸ”§ <strong>Install Tip:</strong> Install the app for best notification reliability.</p>
        </div>

        <div class="modal-actions">
          <button id="save-settings" class="btn btn--primary">Save Settings</button>
          <button id="close-settings" class="btn btn--outline">Close</button>
        </div>
      </div>
    </div>

    <!-- Enhanced Month/Year Picker Modal -->
    <div id="picker-overlay" class="modal-overlay hidden">
      <div class="modal-content picker-modal">
        <h3>ğŸ“… Select Month & Year</h3>
        
        <!-- Year Selector -->
        <div class="year-selector">
          <button id="picker-prev-year" class="nav-btn">â€¹</button>
          <span id="picker-year" class="year-display">2025</span>
          <button id="picker-next-year" class="nav-btn">â€º</button>
        </div>
        
        <!-- Month Grid -->
        <div id="picker-months" class="month-picker-grid"></div>
        
        <div class="modal-actions">
          <button id="picker-close" class="btn btn--outline">Close</button>
        </div>
      </div>
    </div>

    <!-- Enhanced Day Details Modal -->
    <div id="day-modal" class="modal-overlay hidden">
      <div class="modal-content day-modal">
        <h3 id="day-modal-title">ğŸ“… Day Details</h3>
        
        <div class="day-modal-content">
          <!-- Large milk purchase button for elderly users -->
          <div class="milk-purchase-section">
            <button id="milk-purchase-btn" class="btn btn--primary milk-purchase-button">
              <span class="btn-icon">ğŸ¥›</span>
              <span id="milk-btn-text">Mark Milk Purchase This Day</span>
            </button>
            <p class="help-text">ğŸ’¡ Single tap to mark milk, double tap this button to add notes quickly!</p>
          </div>
          
          <div class="notes-section">
            <label for="day-notes">ğŸ“ Add Notes (Optional):</label>
            <textarea id="day-notes" placeholder="e.g., Paid â‚¹300, No delivery - festival, bought 2L today, etc." rows="3"></textarea>
          </div>

          <!-- Holiday info if applicable -->
          <div id="holiday-info" class="holiday-info hidden">
            <div class="holiday-badge">
              <span class="holiday-icon">ğŸ‰</span>
              <span id="holiday-name">Holiday Name</span>
            </div>
          </div>
        </div>
        
        <div class="modal-actions">
          <button id="save-day" class="btn btn--primary">Save Changes</button>
          <button id="close-day-modal" class="btn btn--outline">Close</button>
        </div>
      </div>
    </div>

    <!-- Holiday Modal -->
    <div id="holidayModal" class="modal-overlay hidden">
      <div class="modal-content holiday-modal">
        <h3 id="holidayTitle">ğŸ‰ Holiday Information</h3>
        <p id="holidayDescription"></p>
        <button id="holidayClose" class="btn btn--primary">Close</button>
      </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>
  </div>
  
  <script src="app.js"></script>
</body>
</html>
